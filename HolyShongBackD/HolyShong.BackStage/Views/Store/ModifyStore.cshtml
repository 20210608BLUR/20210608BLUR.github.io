<div id="storeVue" class="container">
    <h1>餐廳資料設定</h1>
    <b-card no-body>
        <b-tabs v-model="tabIndex" small card fill>
            <!-- 餐廳基本資料填寫 -->
            <b-tab title="填寫餐廳基本資料" title-item-class="none-click">
                <div class="container">
                    <div class="row">
                        <!-- 店家名稱 -->
                        <div class="col-12 col-md-6 mb-3">
                            <label>店家名稱</label>
                            <span class="text-danger small mt-1">
                                {{ signupStore.storeInfoCheck.nameErrorMsg }}
                            </span>
                            <input v-model="signupStore.storeInfo.name"
                                   :class="{ 'is-invalid': signupStore.storeInfoCheck.nameError }" type="text" class="form-control">
                        </div>
                        <!-- 店家類別 -->
                        <div class="col-12 col-md-6 mb-3">
                            <label>店家分類</label>
                            <span class="text-danger small mt-1">
                                {{ signupStore.storeInfoCheck.categoryErrorMsg }}
                            </span>
                            <b-form-select v-model="signupStore.storeInfo.category" :class="{ 'is-invalid': signupStore.storeInfoCheck.categoryError }" :options="options"></b-form-select>
                        </div>
                        <!-- 店家地址 -->
                        <div class="col-12 col-md-6 mb-3">
                            <label>店家地址</label>
                            <span class="text-danger small mt-1">
                                {{ signupStore.storeInfoCheck.categoryErrorMsg }}
                            </span>
                            <input v-model="signupStore.storeInfo.address"
                                   :class="{ 'is-invalid': signupStore.storeInfoCheck.addressError }" type="text" class="form-control">
                        </div>
                        <!-- 店家電話 -->
                        <div class="col-12 col-md-6 mb-3">
                            <label>店家電話</label>
                            <span class="text-danger small mt-1">
                                {{ signupStore.storeInfoCheck.phoneErrorMsg }}
                            </span>
                            <input v-model="signupStore.storeInfo.phone"
                                   :class="{ 'is-invalid': signupStore.storeInfoCheck.phoneError }" type="text" class="form-control">
                        </div>
                        <!-- 負責人名稱 -->
                        <div class="col-12 col-md-6 mb-3">
                            <label>負責人名稱</label>
                            <span class="text-danger small mt-1">
                                {{ signupStore.storeInfoCheck.chargeNameErrorMsg }}
                            </span>
                            <input v-model="signupStore.storeInfo.chargeName"
                                   :class="{ 'is-invalid': signupStore.storeInfoCheck.chargeNameError }" type="text" class="form-control">
                        </div>
                        <!-- 負責人電話 -->
                        <div class="col-12 col-md-6 mb-3">
                            <label>負責人電話</label>
                            <span class="text-danger small mt-1">
                                {{ signupStore.storeInfoCheck.chargePhoneErrorMsg }}
                            </span>
                            <input v-model="signupStore.storeInfo.chargePhone"
                                   :class="{ 'is-invalid': signupStore.storeInfoCheck.chargePhoneError }" type="text" class="form-control">
                        </div>
                        <!-- 店家關鍵字 -->
                        <div class="col-12 mb-3">
                            <label for="keywordForm">關鍵字</label>
                            <span class="text-danger small mt-1">
                                {{ signupStore.storeInfoCheck.keywordErrorMsg }}
                            </span>
                            <b-form-tags placeholder="輸入讓消費者容易查詢到您店家的關鍵字" :class="{ 'is-invalid': signupStore.storeInfoCheck.keywordError }" input-id="keywordForm" v-model="signupStore.storeInfo.keyword" type="text" class="form-control"></b-form-tags>
                        </div>
                        <!-- 店家圖片 -->
                        <div class="col-12 mb-3">
                            <label for="keywordForm">店家首圖</label>
                            <span class="text-danger small mt-1">
                                {{ signupStore.storeInfoCheck.imgErrorMsg }}
                            </span>
                            <div id="imgShow" class="mb-3">
                                <i v-if="signupStore.storeInfo.img == ''" class="fas fa-images"></i>
                                <img v-else="signupStore.storeInfo.img != ''" :src="signupStore.storeInfo.img" />
                            </div>
                            <input class="sendPic d-none" type="file" :class="{ 'is-invalid': signupStore.storeInfoCheck.imgError }" />
                            <button class="btn w-100 btn-dark py-2 rounded" v-on:click="submitPic('sendPic')">上傳封面照面</button>
                        </div>
                    </div>

                </div>
            </b-tab>
            <!-- 營業時間設定 -->
            <b-tab title="餐廳營業時間設定" title-item-class="none-click">
                <div class="container">
                    營業時間
                    <div class="row mt-3">
                        <div class="col-12 col-lg-3 m-auto">
                            <div class="d-flex">
                                <div>星期一</div>
                                <span class="text-danger small ms-2">
                                    {{ signUpBusinessTime.timeInfoCheck.mondayErrorMsg }}
                                </span>
                            </div>
                        </div>
                        <div class="col-12 col-lg-2 m-auto">
                            <input v-model="signUpBusinessTime.restInfo.mondayRest" type="checkbox" id="monday">
                            <label for="monday" class="m-0">公休</label>
                        </div>
                        <div class="col-12 col-lg-7 d-lg-flex flex-grow-1">
                            <b-form-timepicker :readonly="signUpBusinessTime.restInfo.mondayRest" v-model="signUpBusinessTime.timeInfo.monday.startTime" placeholder="開始時間" locale="zh"></b-form-timepicker>
                            <b-form-timepicker :readonly="signUpBusinessTime.restInfo.mondayRest" v-model="signUpBusinessTime.timeInfo.monday.endTime" placeholder="結束時間" locale="zh"></b-form-timepicker>
                        </div>
                    </div>
                    <div class="row mt-3">
                        <div class="col-12 col-lg-3 m-auto">
                            <div class="d-flex">
                                <div>星期二</div>
                                <span class="text-danger small ms-2">
                                    {{ signUpBusinessTime.timeInfoCheck.tuesdayErrorMsg }}
                                </span>
                            </div>
                        </div>
                        <div class="col-12 col-lg-2 m-auto">
                            <input v-model="signUpBusinessTime.restInfo.tuesdayRest" type="checkbox" id="tuesday">
                            <label for="tuesday" class="m-0">公休</label>
                        </div>
                        <div class="col-12 col-lg-7 d-lg-flex flex-grow-1">
                            <b-form-timepicker :readonly="signUpBusinessTime.restInfo.tuesdayRest" v-model="signUpBusinessTime.timeInfo.tuesday.startTime" placeholder="開始時間" locale="zh"></b-form-timepicker>
                            <b-form-timepicker :readonly="signUpBusinessTime.restInfo.tuesdayRest" v-model="signUpBusinessTime.timeInfo.tuesday.endTime" placeholder="結束時間" locale="zh"></b-form-timepicker>
                        </div>
                    </div>
                    <div class="row mt-3">
                        <div class="col-12 col-lg-3 m-auto">
                            <div class="d-flex">
                                <div>星期三</div>
                                <span class="text-danger small ms-2">
                                    {{  signUpBusinessTime.timeInfoCheck.wednesdayErrorMsg }}
                                </span>
                            </div>
                        </div>
                        <div class="col-12 col-lg-2 m-auto">
                            <input v-model="signUpBusinessTime.restInfo.wednesdayRest" type="checkbox" id="wednesday">
                            <label for="wednesday" class="m-0">公休</label>
                        </div>
                        <div class="col-12 col-lg-7 d-lg-flex flex-grow-1">
                            <b-form-timepicker :readonly="signUpBusinessTime.restInfo.wednesdayRest" v-model="signUpBusinessTime.timeInfo.wednesday.startTime" placeholder="開始時間" locale="zh"></b-form-timepicker>
                            <b-form-timepicker :readonly="signUpBusinessTime.restInfo.wednesdayRest" v-model="signUpBusinessTime.timeInfo.wednesday.endTime" placeholder="結束時間" locale="zh"></b-form-timepicker>
                        </div>
                    </div>
                    <div class="row mt-3">
                        <div class="col-12 col-lg-3 m-auto">
                            <div class="d-flex">
                                <div>星期四</div>
                                <span class="text-danger small ms-2">
                                    {{  signUpBusinessTime.timeInfoCheck.thursdayErrorMsg }}
                                </span>
                            </div>
                        </div>
                        <div class="col-12 col-lg-2 m-auto">
                            <input v-model="signUpBusinessTime.restInfo.thursdayRest" type="checkbox" id="thursday">
                            <label for="thursday" class="m-0">公休</label>
                        </div>
                        <div class="col-12 col-lg-7 d-lg-flex flex-grow-1">
                            <b-form-timepicker :readonly="signUpBusinessTime.restInfo.thursdayRest" v-model="signUpBusinessTime.timeInfo.thursday.startTime" placeholder="開始時間" locale="zh"></b-form-timepicker>
                            <b-form-timepicker :readonly="signUpBusinessTime.restInfo.thursdayRest" v-model="signUpBusinessTime.timeInfo.thursday.endTime" placeholder="結束時間" locale="zh"></b-form-timepicker>
                        </div>
                    </div>
                    <div class="row mt-3">
                        <div class="col-12 col-lg-3 m-auto">
                            <div class="d-flex">
                                <div>星期五</div>
                                <span class="text-danger small ms-2">
                                    {{  signUpBusinessTime.timeInfoCheck.fridayErrorMsg }}
                                </span>
                            </div>
                        </div>
                        <div class="col-12 col-lg-2 m-auto">
                            <input v-model="signUpBusinessTime.restInfo.fridayRest" type="checkbox" id="friday">
                            <label for="friday" class="m-0">公休</label>
                        </div>
                        <div class="col-12 col-lg-7 d-lg-flex flex-grow-1">
                            <b-form-timepicker :readonly="signUpBusinessTime.restInfo.fridayRest" v-model="signUpBusinessTime.timeInfo.friday.startTime" placeholder="開始時間" locale="zh"></b-form-timepicker>
                            <b-form-timepicker :readonly="signUpBusinessTime.restInfo.fridayRest" v-model="signUpBusinessTime.timeInfo.friday.endTime" placeholder="結束時間" locale="zh"></b-form-timepicker>
                        </div>
                    </div>
                    <div class="row mt-3">
                        <div class="col-12 col-lg-3 m-auto">
                            <div class="d-flex">
                                <div>星期六</div>
                                <span class="text-danger small ms-2">
                                    {{  signUpBusinessTime.timeInfoCheck.saturdayErrorMsg }}
                                </span>
                            </div>
                        </div>
                        <div class="col-12 col-lg-2 m-auto">
                            <input v-model="signUpBusinessTime.restInfo.saturdayRest" type="checkbox" id="saturday">
                            <label for="saturday" class="m-0">公休</label>
                        </div>
                        <div class="col-12 col-lg-7 d-lg-flex flex-grow-1">
                            <b-form-timepicker :readonly="signUpBusinessTime.restInfo.saturdayRest" v-model="signUpBusinessTime.timeInfo.saturday.startTime" placeholder="開始時間" locale="zh"></b-form-timepicker>
                            <b-form-timepicker :readonly="signUpBusinessTime.restInfo.saturdayRest" v-model="signUpBusinessTime.timeInfo.saturday.endTime" placeholder="結束時間" locale="zh"></b-form-timepicker>
                        </div>
                    </div>
                    <div class="row mt-3">
                        <div class="col-12 col-lg-3 m-auto">
                            <div class="d-flex">
                                <div>星期日</div>
                                <span class="text-danger small ms-2">
                                    {{  signUpBusinessTime.timeInfoCheck.sundayErrorMsg }}
                                </span>
                            </div>
                        </div>
                        <div class="col-12 col-lg-2 m-auto">
                            <input v-model="signUpBusinessTime.restInfo.sundayRest" type="checkbox" id="sunday">
                            <label for="sunday" class="m-0">公休</label>
                        </div>
                        <div class="col-12 col-lg-7 d-lg-flex flex-grow-1">
                            <b-form-timepicker :readonly="signUpBusinessTime.restInfo.sundayRest" v-model="signUpBusinessTime.timeInfo.sunday.startTime" placeholder="開始時間" locale="zh"></b-form-timepicker>
                            <b-form-timepicker :readonly="signUpBusinessTime.restInfo.sundayRest" v-model="signUpBusinessTime.timeInfo.sunday.endTime" placeholder="結束時間" locale="zh"></b-form-timepicker>
                        </div>
                    </div>
                </div>
            </b-tab>
            <!-- 餐廳類別設定 -->
            <b-tab title="商品類別設定" title-item-class="none-click">
                <div class="row">
                    <div class="col-12 d-flex justify-content-center py-2">
                        <label class="w-25 text-center m-0 d-block">
                            類別1：
                            <span class="text-danger small ms-2">
                                {{ signUpCategory.categoryInfoCheck.firstErrorMsg }}
                            </span>
                        </label>

                        <input v-model="signUpCategory.categoryInfo.first" type="text" name="name" value="" class="form-control w-50" />
                    </div>
                    <div class="col-12 d-flex justify-content-center py-2">
                        <label class="w-25 text-center m-0 d-block">
                            類別2：
                            <span class="text-danger small ms-2">
                                {{ signUpCategory.categoryInfoCheck.secondErrorMsg }}
                            </span>
                        </label>

                        <input v-model="signUpCategory.categoryInfo.second" type="text" name="name" value="" class="form-control w-50" />
                    </div>
                    <div class="col-12 d-flex justify-content-center py-2">
                        <label class="w-25 text-center m-0 d-block">
                            類別3：
                            <span class="text-danger small ms-2">
                                {{ signUpCategory.categoryInfoCheck.thirdErrorMsg }}
                            </span>
                        </label>
                        <input v-model="signUpCategory.categoryInfo.third" type="text" name="name" value="" class="form-control w-50" />
                    </div>
                    <div class="col-12 d-flex justify-content-center py-2">
                        <label class="w-25 text-center m-0 d-block">
                            類別4：
                            <span class="text-danger small ms-2">
                                {{ signUpCategory.categoryInfoCheck.forthErrorMsg }}
                            </span>
                        </label>
                        <input v-model="signUpCategory.categoryInfo.forth" type="text" name="name" value="" class="form-control w-50" />
                    </div>
                </div>
            </b-tab>
            <b-tab title="餐點明細設定" title-item-class="none-click">
                <b-row>
                    <b-col lg="7" class="my-1">
                        <b-button-group>
                            <b-button variant="success" v-b-modal.modal-1>
                                <b-icon icon="plus-square" aria-hidden="true"></b-icon>
                                新增餐點
                            </b-button>
                        </b-button-group>
                    </b-col>
                    <b-col lg="5" class="my-1">
                        <b-form-group label="關鍵字搜尋" label-for="filter-input" label-cols-sm="4"
                                      label-align-sm="right" label-size="sm" class="mb-0">
                            <b-input-group size="sm">
                                <b-form-input id="filter-input" v-model="filter" type="search"
                                              placeholder="請輸入關鍵字">
                                </b-form-input>
                                <b-input-group-append>
                                    <b-button :disabled="!filter" v-on:click="filter = ''">
                                        Clear
                                    </b-button>
                                </b-input-group-append>
                            </b-input-group>
                        </b-form-group>
                    </b-col>
                </b-row>
                <!-- Main table element -->
                <b-table v-if="tabIndex==3" :items="item" :fields="fields"
                         :current-page="currentPage" :per-page="perPage" :filter="filter"
                         :filter-included-fields="filterOn" :sort-by.sync="sortBy"
                         :sort-desc.sync="sortDesc" responsive="sm" :sort-direction="sortDirection"
                         stacked="md" show-empty small :busy="isOnSaleBusy.PageBusy"
                         v-on:filtered="onFiltered" class="mt-3">
                    <template #table-busy>
                        <div class="text-center text-danger my-2">
                            <b-spinner class="align-middle"></b-spinner>
                            <strong>Loading...</strong>
                        </div>
                    </template>

                    <template #cell(productImg)="row">
                        <b-img-lazy v-bind="simplifyproductimgProps" class="pdlistimg"
                                    :src="row.item.productImg" thumbnail></b-img-lazy>
                    </template>

                    <template #cell(actions)="row">
                        <b-button variant="info" size="sm"
                                  v-on:click="info(row.item, row.index, $event.target)" class="mr-1">
                            新增/編輯餐點明細
                        </b-button>
                        <b-button size="sm"
                                  v-on:click="ShowUpdateSaleConfirm(row.item.productId,SalesConfirmBoxProps.nonSale)"
                                  class="mr-1">
                            刪除餐點
                        </b-button>
                    </template>
                </b-table>
                <b-row>
                    <b-col lg="6" class="ml-auto">
                        <b-pagination v-model="currentPage" :total-rows="totalRows"
                                      :per-page="perPage" align="fill" size="md" class="my-0">
                        </b-pagination>
                    </b-col>
                    <b-col lg="3" class="my-1">
                        <b-form-group label="每頁顯示筆數" label-for="per-page-select"
                                      label-cols-sm="3" label-cols-lg="9" content-cols="3"
                                      label-align-sm="right" label-size="sm" class="mb-0">
                            <b-form-select id="per-page-select" v-model="perPage"
                                           :options="pageOptions" size="sm"></b-form-select>
                        </b-form-group>
                    </b-col>
                </b-row>

                <!-- 商品明細 modal -->
                <!--<b-modal :id="productOptionsModel.id" :title="productOptionsModel.title" header-bg-variant="info"
                         header-text-variant="light" hide-footer size="lg"
                         v-on:hidden="resetProductOptionsModel" scrollable>-->
                <!-- <template #default> -->
                <!--<div v-if="isOnSaleBusy.DetailsBusy"
                     class="busy text-center text-danger my-2">
                    <b-spinner class="align-middle"></b-spinner>
                    <strong>Loading...</strong>
                </div>-->
                <!-- </template> -->
                <!--<div class="details-body" v-if="!isOnSaleBusy.DetailsBusy">
                    <div class="row">
                        <div v-for="item in productOptionsModel.fields"
                             :class="['field','mb-3',((item.key==='productImg' || item.key==='productDescription')?'col-12':'col-6')]">
                            <h3 class="title">{{item.label}}</h3>
                            <div v-if="item.key==='productImg' && item.value!='無'">
                                <b-img-lazy v-bind="productDetailsimgProps"
                                            :src="item.value"
                                            class="pddetailsimg"
                                            thumbnail center>
                                </b-img-lazy>
                            </div>
                            <div class="content" v-else-if="item.key==='productDescription'" v-html="item.value"></div>
                            <p v-else class="content">{{item.value}}</p>
                        </div>
                        <div class="d-flex justify-content-between">
                            <h3 class="title">餐點規格</h3>
                            <b-button variant="success" v-on:click="OptionsCreate">
                                <b-icon icon="plus-square" aria-hidden="true"></b-icon>
                                新增規格
                            </b-button>
                        </div>-->
                <!-- 餐點細項table -->
                <!--<b-table :items="productDetailsModel.item" :fields="productDetailsModel.fields"
                         :filter="filter" :filter-included-fields="filterOn" :sort-by.sync="sortBy"
                         :sort-desc.sync="sortDesc" responsive="sm" :sort-direction="sortDirection"
                         stacked="md" show-empty small :busy="isOnSaleBusy.PageBusy"
                         v-on:filtered="onFiltered">
                    <template #table-busy>
                        <div class="text-center text-danger my-2">
                            <b-spinner class="align-middle"></b-spinner>
                            <strong>Loading...</strong>
                        </div>
                    </template>
                    <template #cell(actions)="row">
                        <b-button v-on:click="showEditOptipn(row.item,row.index, $event.target)" variant="primary" size="sm" class="mr-1">
                            編輯規格
                        </b-button>
                        <b-button variant="success" size="sm"
                                  v-on:click="DeleteOptions(row.item)"
                                  class="mr-1">
                            刪除規格
                        </b-button>
                    </template>-->
                <!-- 規格編輯Modal -->
                <!--<b-modal :id="editDetailModel.id" :title="editDetailModel.title">
                                    <div v-for="item in editDetailModel.fields">
                                        <div v-if="item.key==='actions'" class="d-none"></div>
                                        <div v-else class="col-12">
                                            <label>{{item.label}}</label>
                                            <input :value="item.value" type="text" class="form-control">
                                        </div>
                                    </div>
                                </b-modal>
                            </b-table>
                        </div>
                    </div>
                </b-modal>-->
            </b-tab>
        </b-tabs>
    </b-card>
    <!-- Control buttons-->
    <div class="d-flex justify-content-between mt-3 pb-5 mb-5">
        <b-button v-on:click="tabIndex--">上一步</b-button>
        <b-button v-if="tabIndex &lt 3" v-on:click="tabIndex++" :disabled="!nextable">下一步</b-button>
        <b-button v-if="tabIndex == 3" v-on:click="creatStore" :disabled="!nextable" variant="success">上架餐廳</b-button>
    </div>


    <!-- 新增餐點Modal-->
    <b-modal id="modal-1" size="lg" scrollable>
        <div class="container">
            <div class="row">
                <!-- 餐點名稱 -->
                <div class="col-12 mb-3">
                    <label>餐點名稱</label>
                    <span class="text-danger small mt-1">
                        {{ createProduct.productInfoCheck.productNameErrorMsg }}
                    </span>
                    <input v-model="createProduct.productInfo.productName"
                           :class="{ 'is-invalid': createProduct.productInfoCheck.productNameError }" type="text" class="form-control">
                </div>
                <!-- 餐點類別 -->
                <div class="col-12 col-md-6 mb-3">
                    <label>餐點類別</label>
                    <span class="text-danger small mt-1">
                        {{ createProduct.productInfoCheck.productCategoryNameErrorMsg }}
                    </span>
                    <b-form-select v-model="createProduct.productInfo.productCategoryName" :class="{ 'is-invalid': signupStore.storeInfoCheck.productCategoryNameError }" :options="productCateOptions"></b-form-select>
                </div>
                <!-- 餐點價格 -->
                <div class="col-12 col-md-6 mb-3">
                    <label>餐點價格</label>
                    <span class="text-danger small mt-1">
                        {{ createProduct.productInfoCheck.unitPriceErrorMsg }}
                    </span>
                    <input v-model="createProduct.productInfo.unitPrice"
                           :class="{ 'is-invalid': createProduct.productInfoCheck.unitPriceError }" type="number" class="form-control">
                </div>
                <!-- 餐點描述 -->
                <div class="col-12 mb-3">
                    <label>餐點描述(選填)</label>
                    <input v-model="createProduct.productInfo.productDescription" type="text" class="form-control">
                </div>
                <!-- 餐點圖片 -->
                <div class="col-12 mb-3">
                    <label for="keywordForm">餐點圖片(選填)</label>
                    <div id="imgProShow" class="mb-3">
                        <i v-if="createProduct.productInfo.productImg == ''" class="fas fa-images"></i>
                        <img v-else="createProduct.productInfo.productImg != ''" :src="createProduct.productInfo.productImg" />
                    </div>
                    <input class="sendProPic d-none" type="file" />
                    <button class="btn w-100 btn-dark py-2 rounded" v-on:click="submitPic('sendProPic')">上傳商品圖片</button>
                </div>
            </div>
            <div class="row">
                <b-button variant="success" v-b-modal.modal-2 class="w-25 mb-2">
                    <b-icon icon="plus-square" aria-hidden="true"></b-icon>
                    新增規格
                </b-button>
                <!-- 餐點細項table -->
                <b-table :items="productDetailsModel.item" :fields="productDetailsModel.fields"
                         :filter="filter" :filter-included-fields="filterOn" :sort-by.sync="sortBy"
                         :sort-desc.sync="sortDesc" responsive="sm" :sort-direction="sortDirection"
                         stacked="md" show-empty small :busy="isOnSaleBusy.PageBusy"
                         v-on:filtered="onFiltered">
                    <template #table-busy>
                        <div class="text-center text-danger my-2">
                            <b-spinner class="align-middle"></b-spinner>
                            <strong>Loading...</strong>
                        </div>
                    </template>
                    <template #cell(actions)="row">
                        <b-button variant="success" size="sm"
                                  v-on:click="deleteOption(row.item, row.index)"
                                  class="mr-1">
                            刪除規格
                        </b-button>
                    </template>
                </b-table>
            </div>
        </div>
        <template #modal-footer="{ ok, cancel }">
            <!-- Emulate built in modal footer ok and cancel button actions -->
            <b-button variant="success" v-on:click="addProduct">
                OK
            </b-button>
            <b-button variant="secondary" v-on:click="cancleProduct">
                Cancel
            </b-button>
        </template>
    </b-modal>

    <!-- 規格新增Modal -->
    <b-modal id="modal-2">
        <!-- 規格名稱 -->
        <div class="col-12 mb-3">
            <label>規格名稱(ex:尺寸)</label>
            <span class="text-danger small mt-1">
                {{ createOption.optionInfoCheck.productOptionNameErrorMsg }}
            </span>
            <input v-model="createOption.optionInfo.productOptionName"
                   :class="{ 'is-invalid': createOption.optionInfoCheck.productOptionNameError }" type="text" class="form-control">
        </div>
        <!-- 選項名稱 -->
        <div class="col-12 mb-3">
            <label>選項名稱(ex:大杯)</label>
            <span class="text-danger small mt-1">
                {{ createOption.optionInfoCheck.productOptionDetailNameErrorMsg }}
            </span>
            <input v-model="createOption.optionInfo.productOptionDetailName"
                   :class="{ 'is-invalid': createOption.optionInfoCheck.productOptionDetailNameError }" type="text" class="form-control">
        </div>
        <!-- 加購價 -->
        <div class="col-12 mb-3">
            <label>加購價</label>
            <span class="text-danger small mt-1">
                {{ createOption.optionInfoCheck.addPriceErrorMsg }}
            </span>
            <input v-model="createOption.optionInfo.addPrice"
                   :class="{ 'is-invalid': createOption.optionInfoCheck.addPriceError }" type="number" class="form-control">
        </div>

        <template #modal-footer="{ ok, cancel }">
            <!-- Emulate built in modal footer ok and cancel button actions -->
            <b-button variant="success" v-on:click="AddOptions">
                OK
            </b-button>
            <b-button variant="secondary" v-on:click="Cancle">
                Cancel
            </b-button>
        </template>
    </b-modal>

    <!-- 規格編輯Modal -->
    @*<b-modal :id="editDetailModel.id" :title="editDetailModel.title">
            <div v-for="item in editDetailModel.fields">
                <div v-if="item.key==='actions'" class="d-none"></div>
                <div v-else class="col-12">
                    <label>{{item.label}}</label>
                    <input :value="item.value" type="text" class="form-control">
                </div>
            </div>
        </b-modal>*@

</div>


@section topCss{
    <style>
        #imgShow,
        #imgProShow {
            width: 100%;
            height: 300px;
            border: 1px solid #ccc;
            border-radius: 10px;
            text-align: center;
        }

            #imgShow i,
            #imgProShow i {
                font-size: 30px;
                color: #ccc;
                text-align: center;
                line-height: 300px;
            }

            #imgShow img,
            #imgProShow img {
                width: 100%;
                height: 100%;
                object-fit: cover;
            }
    </style>
}

@section endJs{
    <script src="~/js/Controller/Store/addStore.js"></script>
}
<div id="storeVue" class="container">
    <h1>餐廳資料設定</h1>
    <b-card no-body>
        <b-tabs v-model="tabIndex" small card fill>
            <!-- 餐廳基本資料填寫 -->
            <b-tab title="填寫餐廳基本資料" title-item-class="none-click">
                <div class="container">
                    <div class="row">
                        <!-- 店家名稱 -->
                        <div class="col-12 col-md-6 mb-3">
                            <label>店家名稱</label>
                            <span class="text-danger small mt-1">
                                {{ signupStore.storeInfoCheck.nameErrorMsg }}
                            </span>
                            <input v-model="signupStore.storeInfo.name"
                                   :class="{ 'is-invalid': signupStore.storeInfoCheck.nameError }" type="text" class="form-control">
                        </div>
                        <!-- 店家類別 -->
                        <div class="col-12 col-md-6 mb-3">
                            <label>店家分類</label>
                            <span class="text-danger small mt-1">
                                {{ signupStore.storeInfoCheck.categoryErrorMsg }}
                            </span>
                            <b-form-select v-model="signupStore.storeInfo.category" :class="{ 'is-invalid': signupStore.storeInfoCheck.categoryError }" :options="options"></b-form-select>
                        </div>
                        <!-- 店家地址 -->
                        <div class="col-12 col-md-6 mb-3">
                            <label>店家地址</label>
                            <span class="text-danger small mt-1">
                                {{ signupStore.storeInfoCheck.categoryErrorMsg }}
                            </span>
                            <input v-model="signupStore.storeInfo.address"
                                   :class="{ 'is-invalid': signupStore.storeInfoCheck.addressError }" type="text" class="form-control">
                        </div>
                        <!-- 店家電話 -->
                        <div class="col-12 col-md-6 mb-3">
                            <label>店家電話</label>
                            <span class="text-danger small mt-1">
                                {{ signupStore.storeInfoCheck.phoneErrorMsg }}
                            </span>
                            <input v-model="signupStore.storeInfo.phone"
                                   :class="{ 'is-invalid': signupStore.storeInfoCheck.phoneError }" type="text" class="form-control">
                        </div>
                        <!-- 負責人名稱 -->
                        <div class="col-12 col-md-6 mb-3">
                            <label>負責人名稱</label>
                            <span class="text-danger small mt-1">
                                {{ signupStore.storeInfoCheck.chargeNameErrorMsg }}
                            </span>
                            <input v-model="signupStore.storeInfo.chargeName"
                                   :class="{ 'is-invalid': signupStore.storeInfoCheck.chargeNameError }" type="text" class="form-control">
                        </div>
                        <!-- 負責人電話 -->
                        <div class="col-12 col-md-6 mb-3">
                            <label>負責人電話</label>
                            <span class="text-danger small mt-1">
                                {{ signupStore.storeInfoCheck.chargePhoneErrorMsg }}
                            </span>
                            <input v-model="signupStore.storeInfo.chargePhone"
                                   :class="{ 'is-invalid': signupStore.storeInfoCheck.chargePhoneError }" type="text" class="form-control">
                        </div>
                        <!-- 店家關鍵字 -->
                        <div class="col-12 mb-3">
                            <label for="keywordForm">關鍵字</label>
                            <span class="text-danger small mt-1">
                                {{ signupStore.storeInfoCheck.keywordErrorMsg }}
                            </span>
                            <b-form-tags placeholder="輸入讓消費者容易查詢到您店家的關鍵字" :class="{ 'is-invalid': signupStore.storeInfoCheck.keywordError }" input-id="keywordForm" v-model="signupStore.storeInfo.keyword" type="text" class="form-control"></b-form-tags>
                        </div>
                        <!-- 店家圖片 -->
                        <div class="col-12 mb-3">
                            <label for="keywordForm">店家首圖</label>
                            <span class="text-danger small mt-1">
                                {{ signupStore.storeInfoCheck.imgErrorMsg }}
                            </span>
                            <div id="imgShow" class="mb-3">
                                <i v-if="signupStore.storeInfo.img == ''" class="fas fa-images"></i>
                                <img v-else="signupStore.storeInfo.img != ''" :src="signupStore.storeInfo.img" />
                            </div>
                            <input class="sendPic d-none" type="file" :class="{ 'is-invalid': signupStore.storeInfoCheck.imgError }" />
                            <button class="btn w-100 btn-dark py-2 rounded" v-on:click="submitPic('sendPic')">上傳封面照面</button>
                        </div>
                    </div>

                </div>
            </b-tab>
            <!-- 營業時間設定 -->
            <b-tab title="餐廳營業時間設定" title-item-class="none-click">
                <div class="container">
                    營業時間
                    <div class="row mt-3">
                        <div class="col-12 col-lg-3 m-auto">
                            <div class="d-flex">
                                <div>星期一</div>
                                <span class="text-danger small ms-2">
                                    {{ signUpBusinessTime.timeInfoCheck.mondayErrorMsg }}
                                </span>
                            </div>
                        </div>
                        <div class="col-12 col-lg-2 m-auto">
                            <input v-model="signUpBusinessTime.restInfo.mondayRest" type="checkbox" id="monday">
                            <label for="monday" class="m-0">公休</label>
                        </div>
                        <div class="col-12 col-lg-7 d-lg-flex flex-grow-1">
                            <b-form-timepicker :readonly="signUpBusinessTime.restInfo.mondayRest" v-model="signUpBusinessTime.timeInfo.monday.startTime" placeholder="開始時間" locale="zh"></b-form-timepicker>
                            <b-form-timepicker :readonly="signUpBusinessTime.restInfo.mondayRest" v-model="signUpBusinessTime.timeInfo.monday.endTime" placeholder="結束時間" locale="zh"></b-form-timepicker>
                        </div>
                    </div>
                    <div class="row mt-3">
                        <div class="col-12 col-lg-3 m-auto">
                            <div class="d-flex">
                                <div>星期二</div>
                                <span class="text-danger small ms-2">
                                    {{ signUpBusinessTime.timeInfoCheck.tuesdayErrorMsg }}
                                </span>
                            </div>
                        </div>
                        <div class="col-12 col-lg-2 m-auto">
                            <input v-model="signUpBusinessTime.restInfo.tuesdayRest" type="checkbox" id="tuesday">
                            <label for="tuesday" class="m-0">公休</label>
                        </div>
                        <div class="col-12 col-lg-7 d-lg-flex flex-grow-1">
                            <b-form-timepicker :readonly="signUpBusinessTime.restInfo.tuesdayRest" v-model="signUpBusinessTime.timeInfo.tuesday.startTime" placeholder="開始時間" locale="zh"></b-form-timepicker>
                            <b-form-timepicker :readonly="signUpBusinessTime.restInfo.tuesdayRest" v-model="signUpBusinessTime.timeInfo.tuesday.endTime" placeholder="結束時間" locale="zh"></b-form-timepicker>
                        </div>
                    </div>
                    <div class="row mt-3">
                        <div class="col-12 col-lg-3 m-auto">
                            <div class="d-flex">
                                <div>星期三</div>
                                <span class="text-danger small ms-2">
                                    {{  signUpBusinessTime.timeInfoCheck.wednesdayErrorMsg }}
                                </span>
                            </div>
                        </div>
                        <div class="col-12 col-lg-2 m-auto">
                            <input v-model="signUpBusinessTime.restInfo.wednesdayRest" type="checkbox" id="wednesday">
                            <label for="wednesday" class="m-0">公休</label>
                        </div>
                        <div class="col-12 col-lg-7 d-lg-flex flex-grow-1">
                            <b-form-timepicker :readonly="signUpBusinessTime.restInfo.wednesdayRest" v-model="signUpBusinessTime.timeInfo.wednesday.startTime" placeholder="開始時間" locale="zh"></b-form-timepicker>
                            <b-form-timepicker :readonly="signUpBusinessTime.restInfo.wednesdayRest" v-model="signUpBusinessTime.timeInfo.wednesday.endTime" placeholder="結束時間" locale="zh"></b-form-timepicker>
                        </div>
                    </div>
                    <div class="row mt-3">
                        <div class="col-12 col-lg-3 m-auto">
                            <div class="d-flex">
                                <div>星期四</div>
                                <span class="text-danger small ms-2">
                                    {{  signUpBusinessTime.timeInfoCheck.thursdayErrorMsg }}
                                </span>
                            </div>
                        </div>
                        <div class="col-12 col-lg-2 m-auto">
                            <input v-model="signUpBusinessTime.restInfo.thursdayRest" type="checkbox" id="thursday">
                            <label for="thursday" class="m-0">公休</label>
                        </div>
                        <div class="col-12 col-lg-7 d-lg-flex flex-grow-1">
                            <b-form-timepicker :readonly="signUpBusinessTime.restInfo.thursdayRest" v-model="signUpBusinessTime.timeInfo.thursday.startTime" placeholder="開始時間" locale="zh"></b-form-timepicker>
                            <b-form-timepicker :readonly="signUpBusinessTime.restInfo.thursdayRest" v-model="signUpBusinessTime.timeInfo.thursday.endTime" placeholder="結束時間" locale="zh"></b-form-timepicker>
                        </div>
                    </div>
                    <div class="row mt-3">
                        <div class="col-12 col-lg-3 m-auto">
                            <div class="d-flex">
                                <div>星期五</div>
                                <span class="text-danger small ms-2">
                                    {{  signUpBusinessTime.timeInfoCheck.fridayErrorMsg }}
                                </span>
                            </div>
                        </div>
                        <div class="col-12 col-lg-2 m-auto">
                            <input v-model="signUpBusinessTime.restInfo.fridayRest" type="checkbox" id="friday">
                            <label for="friday" class="m-0">公休</label>
                        </div>
                        <div class="col-12 col-lg-7 d-lg-flex flex-grow-1">
                            <b-form-timepicker :readonly="signUpBusinessTime.restInfo.fridayRest" v-model="signUpBusinessTime.timeInfo.friday.startTime" placeholder="開始時間" locale="zh"></b-form-timepicker>
                            <b-form-timepicker :readonly="signUpBusinessTime.restInfo.fridayRest" v-model="signUpBusinessTime.timeInfo.friday.endTime" placeholder="結束時間" locale="zh"></b-form-timepicker>
                        </div>
                    </div>
                    <div class="row mt-3">
                        <div class="col-12 col-lg-3 m-auto">
                            <div class="d-flex">
                                <div>星期六</div>
                                <span class="text-danger small ms-2">
                                    {{  signUpBusinessTime.timeInfoCheck.saturdayErrorMsg }}
                                </span>
                            </div>
                        </div>
                        <div class="col-12 col-lg-2 m-auto">
                            <input v-model="signUpBusinessTime.restInfo.saturdayRest" type="checkbox" id="saturday">
                            <label for="saturday" class="m-0">公休</label>
                        </div>
                        <div class="col-12 col-lg-7 d-lg-flex flex-grow-1">
                            <b-form-timepicker :readonly="signUpBusinessTime.restInfo.saturdayRest" v-model="signUpBusinessTime.timeInfo.saturday.startTime" placeholder="開始時間" locale="zh"></b-form-timepicker>
                            <b-form-timepicker :readonly="signUpBusinessTime.restInfo.saturdayRest" v-model="signUpBusinessTime.timeInfo.saturday.endTime" placeholder="結束時間" locale="zh"></b-form-timepicker>
                        </div>
                    </div>
                    <div class="row mt-3">
                        <div class="col-12 col-lg-3 m-auto">
                            <div class="d-flex">
                                <div>星期日</div>
                                <span class="text-danger small ms-2">
                                    {{  signUpBusinessTime.timeInfoCheck.sundayErrorMsg }}
                                </span>
                            </div>
                        </div>
                        <div class="col-12 col-lg-2 m-auto">
                            <input v-model="signUpBusinessTime.restInfo.sundayRest" type="checkbox" id="sunday">
                            <label for="sunday" class="m-0">公休</label>
                        </div>
                        <div class="col-12 col-lg-7 d-lg-flex flex-grow-1">
                            <b-form-timepicker :readonly="signUpBusinessTime.restInfo.sundayRest" v-model="signUpBusinessTime.timeInfo.sunday.startTime" placeholder="開始時間" locale="zh"></b-form-timepicker>
                            <b-form-timepicker :readonly="signUpBusinessTime.restInfo.sundayRest" v-model="signUpBusinessTime.timeInfo.sunday.endTime" placeholder="結束時間" locale="zh"></b-form-timepicker>
                        </div>
                    </div>
                </div>
            </b-tab>
            <!-- 餐廳類別設定 -->
            <b-tab title="商品類別設定" title-item-class="none-click">
                <div class="row">
                    <div class="col-12 d-flex justify-content-center py-2">
                        <label class="w-25 text-center m-0 d-block">
                            類別1：
                            <span class="text-danger small ms-2">
                                {{ signUpCategory.categoryInfoCheck.firstErrorMsg }}
                            </span>
                        </label>

                        <input v-model="signUpCategory.categoryInfo.first" type="text" name="name" value="" class="form-control w-50" />
                    </div>
                    <div class="col-12 d-flex justify-content-center py-2">
                        <label class="w-25 text-center m-0 d-block">
                            類別2：
                            <span class="text-danger small ms-2">
                                {{ signUpCategory.categoryInfoCheck.secondErrorMsg }}
                            </span>
                        </label>

                        <input v-model="signUpCategory.categoryInfo.second" type="text" name="name" value="" class="form-control w-50" />
                    </div>
                    <div class="col-12 d-flex justify-content-center py-2">
                        <label class="w-25 text-center m-0 d-block">
                            類別3：
                            <span class="text-danger small ms-2">
                                {{ signUpCategory.categoryInfoCheck.thirdErrorMsg }}
                            </span>
                        </label>
                        <input v-model="signUpCategory.categoryInfo.third" type="text" name="name" value="" class="form-control w-50" />
                    </div>
                    <div class="col-12 d-flex justify-content-center py-2">
                        <label class="w-25 text-center m-0 d-block">
                            類別4：
                            <span class="text-danger small ms-2">
                                {{ signUpCategory.categoryInfoCheck.forthErrorMsg }}
                            </span>
                        </label>
                        <input v-model="signUpCategory.categoryInfo.forth" type="text" name="name" value="" class="form-control w-50" />
                    </div>
                </div>
            </b-tab>
            <b-tab title="餐點明細設定" title-item-class="none-click">
                <b-row>
                    <b-col lg="7" class="my-1">
                        <b-button-group>
                            <b-button variant="success" v-b-modal.modal-1>
                                <b-icon icon="plus-square" aria-hidden="true"></b-icon>
                                新增餐點
                            </b-button>
                        </b-button-group>
                    </b-col>
                    <b-col lg="5" class="my-1">
                        <b-form-group label="關鍵字搜尋" label-for="filter-input" label-cols-sm="4"
                                      label-align-sm="right" label-size="sm" class="mb-0">
                            <b-input-group size="sm">
                                <b-form-input id="filter-input" v-model="filter" type="search"
                                              placeholder="請輸入關鍵字">
                                </b-form-input>
                                <b-input-group-append>
                                    <b-button :disabled="!filter" v-on:click="filter = ''">
                                        Clear
                                    </b-button>
                                </b-input-group-append>
                            </b-input-group>
                        </b-form-group>
                    </b-col>
                </b-row>
                <!-- Main table element -->
                <b-table v-if="tabIndex==3" :items="item" :fields="fields"
                         :current-page="currentPage" :per-page="perPage" :filter="filter"
                         :filter-included-fields="filterOn" :sort-by.sync="sortBy"
                         :sort-desc.sync="sortDesc" responsive="sm" :sort-direction="sortDirection"
                         stacked="md" show-empty small :busy="isOnSaleBusy.PageBusy"
                         v-on:filtered="onFiltered" class="mt-3">
                    <template #table-busy>
                        <div class="text-center text-danger my-2">
                            <b-spinner class="align-middle"></b-spinner>
                            <strong>Loading...</strong>
                        </div>
                    </template>

                    <template #cell(productImg)="row">
                        <b-img-lazy v-bind="simplifyproductimgProps" class="pdlistimg"
                                    :src="row.item.productImg" thumbnail></b-img-lazy>
                    </template>

                    <template #cell(actions)="row">
                        <b-button variant="info" size="sm"
                                  v-on:click="info(row.item, row.index, $event.target)" class="mr-1">
                            新增/編輯餐點明細
                        </b-button>
                        <b-button size="sm"
                                  v-on:click="ShowUpdateSaleConfirm(row.item.productId,SalesConfirmBoxProps.nonSale)"
                                  class="mr-1">
                            刪除餐點
                        </b-button>
                    </template>
                </b-table>
                <b-row>
                    <b-col lg="6" class="ml-auto">
                        <b-pagination v-model="currentPage" :total-rows="totalRows"
                                      :per-page="perPage" align="fill" size="md" class="my-0">
                        </b-pagination>
                    </b-col>
                    <b-col lg="3" class="my-1">
                        <b-form-group label="每頁顯示筆數" label-for="per-page-select"
                                      label-cols-sm="3" label-cols-lg="9" content-cols="3"
                                      label-align-sm="right" label-size="sm" class="mb-0">
                            <b-form-select id="per-page-select" v-model="perPage"
                                           :options="pageOptions" size="sm"></b-form-select>
                        </b-form-group>
                    </b-col>
                </b-row>

                <!-- 商品明細 modal -->
                <!--<b-modal :id="productOptionsModel.id" :title="productOptionsModel.title" header-bg-variant="info"
                         header-text-variant="light" hide-footer size="lg"
                         v-on:hidden="resetProductOptionsModel" scrollable>-->
                    <!-- <template #default> -->
                    <!--<div v-if="isOnSaleBusy.DetailsBusy"
                         class="busy text-center text-danger my-2">
                        <b-spinner class="align-middle"></b-spinner>
                        <strong>Loading...</strong>
                    </div>-->
                    <!-- </template> -->
                    <!--<div class="details-body" v-if="!isOnSaleBusy.DetailsBusy">
                        <div class="row">
                            <div v-for="item in productOptionsModel.fields"
                                 :class="['field','mb-3',((item.key==='productImg' || item.key==='productDescription')?'col-12':'col-6')]">
                                <h3 class="title">{{item.label}}</h3>
                                <div v-if="item.key==='productImg' && item.value!='無'">
                                    <b-img-lazy v-bind="productDetailsimgProps"
                                                :src="item.value"
                                                class="pddetailsimg"
                                                thumbnail center>
                                    </b-img-lazy>
                                </div>
                                <div class="content" v-else-if="item.key==='productDescription'" v-html="item.value"></div>
                                <p v-else class="content">{{item.value}}</p>
                            </div>
                            <div class="d-flex justify-content-between">
                                <h3 class="title">餐點規格</h3>
                                <b-button variant="success" v-on:click="OptionsCreate">
                                    <b-icon icon="plus-square" aria-hidden="true"></b-icon>
                                    新增規格
                                </b-button>
                            </div>-->
                            <!-- 餐點細項table -->
                            <!--<b-table :items="productDetailsModel.item" :fields="productDetailsModel.fields"
                                     :filter="filter" :filter-included-fields="filterOn" :sort-by.sync="sortBy"
                                     :sort-desc.sync="sortDesc" responsive="sm" :sort-direction="sortDirection"
                                     stacked="md" show-empty small :busy="isOnSaleBusy.PageBusy"
                                     v-on:filtered="onFiltered">
                                <template #table-busy>
                                    <div class="text-center text-danger my-2">
                                        <b-spinner class="align-middle"></b-spinner>
                                        <strong>Loading...</strong>
                                    </div>
                                </template>
                                <template #cell(actions)="row">
                                    <b-button v-on:click="showEditOptipn(row.item,row.index, $event.target)" variant="primary" size="sm" class="mr-1">
                                        編輯規格
                                    </b-button>
                                    <b-button variant="success" size="sm"
                                              v-on:click="DeleteOptions(row.item)"
                                              class="mr-1">
                                        刪除規格
                                    </b-button>
                                </template>-->

                                <!-- 規格編輯Modal -->
                                <!--<b-modal :id="editDetailModel.id" :title="editDetailModel.title">
                                    <div v-for="item in editDetailModel.fields">
                                        <div v-if="item.key==='actions'" class="d-none"></div>
                                        <div v-else class="col-12">
                                            <label>{{item.label}}</label>
                                            <input :value="item.value" type="text" class="form-control">
                                        </div>
                                    </div>
                                </b-modal>
                            </b-table>
                        </div>
                    </div>
                </b-modal>-->
            </b-tab>
        </b-tabs>
    </b-card>
    <!-- Control buttons-->
    <div class="d-flex justify-content-between mt-3 pb-5 mb-5">
        <b-button v-on:click="tabIndex--">上一步</b-button>
        <b-button v-if="tabIndex &lt 3" v-on:click="tabIndex++" :disabled="!nextable">下一步</b-button>
        <b-button v-if="tabIndex == 3" v-on:click="creatStore" :disabled="!nextable" variant="success">上架餐廳</b-button>
    </div>


    <!-- 新增餐點Modal-->
    <b-modal id="modal-1" size="lg" scrollable>
        <div class="container">
            <div class="row">
                <!-- 餐點名稱 -->
                <div class="col-12 mb-3">
                    <label>餐點名稱</label>
                    <span class="text-danger small mt-1">
                        {{ createProduct.productInfoCheck.productNameErrorMsg }}
                    </span>
                    <input v-model="createProduct.productInfo.productName"
                           :class="{ 'is-invalid': createProduct.productInfoCheck.productNameError }" type="text" class="form-control">
                </div>
                <!-- 餐點類別 -->
                <div class="col-12 col-md-6 mb-3">
                    <label>餐點類別</label>
                    <span class="text-danger small mt-1">
                        {{ createProduct.productInfoCheck.productCategoryNameErrorMsg }}
                    </span>
                    <b-form-select v-model="createProduct.productInfo.productCategoryName" :class="{ 'is-invalid': signupStore.storeInfoCheck.productCategoryNameError }" :options="productCateOptions"></b-form-select>
                </div>
                <!-- 餐點價格 -->
                <div class="col-12 col-md-6 mb-3">
                    <label>餐點價格</label>
                    <span class="text-danger small mt-1">
                        {{ createProduct.productInfoCheck.unitPriceErrorMsg }}
                    </span>
                    <input v-model="createProduct.productInfo.unitPrice"
                           :class="{ 'is-invalid': createProduct.productInfoCheck.unitPriceError }" type="number" class="form-control">
                </div>
                <!-- 餐點描述 -->
                <div class="col-12 mb-3">
                    <label>餐點描述(選填)</label>
                    <input v-model="createProduct.productInfo.productDescription" type="text" class="form-control">
                </div>
                <!-- 餐點圖片 -->
                <div class="col-12 mb-3">
                    <label for="keywordForm">餐點圖片(選填)</label>
                    <div id="imgProShow" class="mb-3">
                        <i v-if="createProduct.productInfo.productImg == ''" class="fas fa-images"></i>
                        <img v-else="createProduct.productInfo.productImg != ''" :src="createProduct.productInfo.productImg" />
                    </div>
                    <input class="sendProPic d-none" type="file" />
                    <button class="btn w-100 btn-dark py-2 rounded" v-on:click="submitPic('sendProPic')">上傳商品圖片</button>
                </div>
            </div>
            <div class="row">
                <b-button variant="success" v-b-modal.modal-2 class="w-25 mb-2">
                    <b-icon icon="plus-square" aria-hidden="true"></b-icon>
                    新增規格
                </b-button>
                <!-- 餐點細項table -->
                <b-table :items="productDetailsModel.item" :fields="productDetailsModel.fields"
                         :filter="filter" :filter-included-fields="filterOn" :sort-by.sync="sortBy"
                         :sort-desc.sync="sortDesc" responsive="sm" :sort-direction="sortDirection"
                         stacked="md" show-empty small :busy="isOnSaleBusy.PageBusy"
                         v-on:filtered="onFiltered">
                    <template #table-busy>
                        <div class="text-center text-danger my-2">
                            <b-spinner class="align-middle"></b-spinner>
                            <strong>Loading...</strong>
                        </div>
                    </template>
                    <template #cell(actions)="row">
                        <b-button variant="success" size="sm"
                                  v-on:click="deleteOption(row.item, row.index)"
                                  class="mr-1">
                            刪除規格
                        </b-button>
                    </template>
                </b-table>
            </div>
        </div>
        <template #modal-footer="{ ok, cancel }">
            <!-- Emulate built in modal footer ok and cancel button actions -->
            <b-button variant="success" v-on:click="addProduct">
                OK
            </b-button>
            <b-button variant="secondary" v-on:click="cancleProduct">
                Cancel
            </b-button>
        </template>
    </b-modal>

    <!-- 規格新增Modal -->
    <b-modal id="modal-2">
        <!-- 規格名稱 -->
        <div class="col-12 mb-3">
            <label>規格名稱(ex:尺寸)</label>
            <span class="text-danger small mt-1">
                {{ createOption.optionInfoCheck.productOptionNameErrorMsg }}
            </span>
            <input v-model="createOption.optionInfo.productOptionName"
                   :class="{ 'is-invalid': createOption.optionInfoCheck.productOptionNameError }" type="text" class="form-control">
        </div>
        <!-- 選項名稱 -->
        <div class="col-12 mb-3">
            <label>選項名稱(ex:大杯)</label>
            <span class="text-danger small mt-1">
                {{ createOption.optionInfoCheck.productOptionDetailNameErrorMsg }}
            </span>
            <input v-model="createOption.optionInfo.productOptionDetailName"
                   :class="{ 'is-invalid': createOption.optionInfoCheck.productOptionDetailNameError }" type="text" class="form-control">
        </div>
        <!-- 加購價 -->
        <div class="col-12 mb-3">
            <label>加購價</label>
            <span class="text-danger small mt-1">
                {{ createOption.optionInfoCheck.addPriceErrorMsg }}
            </span>
            <input v-model="createOption.optionInfo.addPrice"
                   :class="{ 'is-invalid': createOption.optionInfoCheck.addPriceError }" type="number" class="form-control">
        </div>

        <template #modal-footer="{ ok, cancel }">
            <!-- Emulate built in modal footer ok and cancel button actions -->
            <b-button variant="success" v-on:click="AddOptions">
                OK
            </b-button>
            <b-button variant="secondary" v-on:click="Cancle">
                Cancel
            </b-button>
        </template>
    </b-modal>

    <!-- 規格編輯Modal -->
    @*<b-modal :id="editDetailModel.id" :title="editDetailModel.title">
        <div v-for="item in editDetailModel.fields">
            <div v-if="item.key==='actions'" class="d-none"></div>
            <div v-else class="col-12">
                <label>{{item.label}}</label>
                <input :value="item.value" type="text" class="form-control">
            </div>
        </div>
    </b-modal>*@

</div>


@section topCss{
    <style>
        #imgShow,
        #imgProShow {
            width: 100%;
            height: 300px;
            border: 1px solid #ccc;
            border-radius: 10px;
            text-align: center;
        }

        #imgShow i,
        #imgProShow i {
            font-size: 30px;
            color: #ccc;
            text-align: center;
            line-height: 300px;
        }
        #imgShow img,
        #imgProShow img{
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
    </style>
}

@section endJs{
    <script src="~/js/Controller/Store/addStore.js"></script>
}
