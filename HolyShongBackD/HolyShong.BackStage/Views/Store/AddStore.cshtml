<div id="storeVue" class="container">
    <h1>餐廳資料設定</h1>
    <b-card no-body>
        <b-tabs v-model="tabIndex" small card fill>
            <!-- 餐廳基本資料填寫 -->
            <b-tab title="填寫餐廳基本資料" title-item-class="none-click">
                <div class="container">
                    <div class="row">
                        <!-- 店家名稱 -->
                        <div class="col-12 col-md-6 mb-3">
                            <label>店家名稱</label>
                            <span class="text-danger small mt-1">
                                {{ signupStore.storeInfoCheck.nameErrorMsg }}
                            </span>
                            <input v-model="signupStore.storeInfo.name"
                                   :class="{ 'is-invalid': signupStore.storeInfoCheck.nameError }" type="text" class="form-control">
                        </div>
                        <!-- 店家類別 -->
                        <div class="col-12 col-md-6 mb-3">
                            <label>店家分類</label>
                            <span class="text-danger small mt-1">
                                {{ signupStore.storeInfoCheck.categoryErrorMsg }}
                            </span>
                            <b-form-select v-model="signupStore.storeInfo.category" :class="{ 'is-invalid': signupStore.storeInfoCheck.categoryError }" :options="options"></b-form-select>
                        </div>
                        <!-- 店家地址 -->
                        <div class="col-12 col-md-6 mb-3">
                            <label>店家地址</label>
                            <span class="text-danger small mt-1">
                                {{ signupStore.storeInfoCheck.categoryErrorMsg }}
                            </span>
                            <input v-model="signupStore.storeInfo.address"
                                   :class="{ 'is-invalid': signupStore.storeInfoCheck.addressError }" type="text" class="form-control">
                        </div>
                        <!-- 店家電話 -->
                        <div class="col-12 col-md-6 mb-3">
                            <label>店家電話</label>
                            <span class="text-danger small mt-1">
                                {{ signupStore.storeInfoCheck.phoneErrorMsg }}
                            </span>
                            <input v-model="signupStore.storeInfo.phone"
                                   :class="{ 'is-invalid': signupStore.storeInfoCheck.phoneError }" type="text" class="form-control">
                        </div>
                        <!-- 負責人名稱 -->
                        <div class="col-12 col-md-6 mb-3">
                            <label>負責人名稱</label>
                            <span class="text-danger small mt-1">
                                {{ signupStore.storeInfoCheck.chargeNameErrorMsg }}
                            </span>
                            <input v-model="signupStore.storeInfo.chargeName"
                                   :class="{ 'is-invalid': signupStore.storeInfoCheck.chargeNameError }" type="text" class="form-control">
                        </div>
                        <!-- 負責人電話 -->
                        <div class="col-12 col-md-6 mb-3">
                            <label>負責人電話</label>
                            <span class="text-danger small mt-1">
                                {{ signupStore.storeInfoCheck.chargePhoneErrorMsg }}
                            </span>
                            <input v-model="signupStore.storeInfo.chargePhone"
                                   :class="{ 'is-invalid': signupStore.storeInfoCheck.chargePhoneError }" type="text" class="form-control">
                        </div>
                        <!-- 店家關鍵字 -->
                        <div class="col-12 mb-3">
                            <label for="keywordForm">關鍵字</label>
                            <span class="text-danger small mt-1">
                                {{ signupStore.storeInfoCheck.keywordErrorMsg }}
                            </span>
                            <b-form-tags placeholder="輸入讓消費者容易查詢到您店家的關鍵字" :class="{ 'is-invalid': signupStore.storeInfoCheck.keywordError }" input-id="keywordForm" v-model="signupStore.storeInfo.keyword" type="text" class="form-control"></b-form-tags>
                        </div>
                        <!-- 店家圖片 -->
                        <div class="col-12 mb-3">
                            <label for="keywordForm">店家首圖</label>
                            <span class="text-danger small mt-1">
                                {{ signupStore.storeInfoCheck.imgErrorMsg }}
                            </span>
                            <div id="imgShow" class="mb-3">
                                <i v-if="signupStore.storeInfo.img == ''" class="fas fa-images"></i>
                                <img v-else="signupStore.storeInfo.img != ''" :src="signupStore.storeInfo.img" />
                            </div>
                            <input class="sendPic d-none" type="file" :class="{ 'is-invalid': signupStore.storeInfoCheck.imgError }" />
                            <button class="btn w-100 btn-dark py-2 rounded" v-on:click="submitPic('sendPic')">上傳封面照面</button>
                        </div>
                    </div>

                </div>
            </b-tab>
            <!-- 營業時間設定 -->
            <b-tab title="餐廳營業時間設定" title-item-class="none-click">
                <div class="container">
                    營業時間
                    <div class="row mt-3">
                        <div class="col-12 col-lg-3 m-auto">
                            <div class="d-flex">
                                <div>星期一</div>
                                <span class="text-danger small ms-2">
                                    {{ signUpBusinessTime.timeInfoCheck.mondayErrorMsg }}
                                </span>
                            </div>
                        </div>
                        <div class="col-12 col-lg-2 m-auto">
                            <input v-model="signUpBusinessTime.restInfo.mondayRest" type="checkbox" id="monday">
                            <label for="monday" class="m-0">公休</label>
                        </div>
                        <div class="col-12 col-lg-7 d-lg-flex flex-grow-1">
                            <b-form-timepicker :readonly="signUpBusinessTime.restInfo.mondayRest" v-model="signUpBusinessTime.timeInfo.monday.startTime" placeholder="開始時間" locale="zh"></b-form-timepicker>
                            <b-form-timepicker :readonly="signUpBusinessTime.restInfo.mondayRest" v-model="signUpBusinessTime.timeInfo.monday.endTime" placeholder="結束時間" locale="zh"></b-form-timepicker>
                        </div>
                    </div>
                    <div class="row mt-3">
                        <div class="col-12 col-lg-3 m-auto">
                            <div class="d-flex">
                                <div>星期二</div>
                                <span class="text-danger small ms-2">
                                    {{ signUpBusinessTime.timeInfoCheck.tuesdayErrorMsg }}
                                </span>
                            </div>
                        </div>
                        <div class="col-12 col-lg-2 m-auto">
                            <input v-model="signUpBusinessTime.restInfo.tuesdayRest" type="checkbox" id="tuesday">
                            <label for="tuesday" class="m-0">公休</label>
                        </div>
                        <div class="col-12 col-lg-7 d-lg-flex flex-grow-1">
                            <b-form-timepicker :readonly="signUpBusinessTime.restInfo.tuesdayRest" v-model="signUpBusinessTime.timeInfo.tuesday.startTime" placeholder="開始時間" locale="zh"></b-form-timepicker>
                            <b-form-timepicker :readonly="signUpBusinessTime.restInfo.tuesdayRest" v-model="signUpBusinessTime.timeInfo.tuesday.endTime" placeholder="結束時間" locale="zh"></b-form-timepicker>
                        </div>
                    </div>
                    <div class="row mt-3">
                        <div class="col-12 col-lg-3 m-auto">
                            <div class="d-flex">
                                <div>星期三</div>
                                <span class="text-danger small ms-2">
                                    {{  signUpBusinessTime.timeInfoCheck.wednesdayErrorMsg }}
                                </span>
                            </div>
                        </div>
                        <div class="col-12 col-lg-2 m-auto">
                            <input v-model="signUpBusinessTime.restInfo.wednesdayRest" type="checkbox" id="wednesday">
                            <label for="wednesday" class="m-0">公休</label>
                        </div>
                        <div class="col-12 col-lg-7 d-lg-flex flex-grow-1">
                            <b-form-timepicker :readonly="signUpBusinessTime.restInfo.wednesdayRest" v-model="signUpBusinessTime.timeInfo.wednesday.startTime" placeholder="開始時間" locale="zh"></b-form-timepicker>
                            <b-form-timepicker :readonly="signUpBusinessTime.restInfo.wednesdayRest" v-model="signUpBusinessTime.timeInfo.wednesday.endTime" placeholder="結束時間" locale="zh"></b-form-timepicker>
                        </div>
                    </div>
                    <div class="row mt-3">
                        <div class="col-12 col-lg-3 m-auto">
                            <div class="d-flex">
                                <div>星期四</div>
                                <span class="text-danger small ms-2">
                                    {{  signUpBusinessTime.timeInfoCheck.thursdayErrorMsg }}
                                </span>
                            </div>
                        </div>
                        <div class="col-12 col-lg-2 m-auto">
                            <input v-model="signUpBusinessTime.restInfo.thursdayRest" type="checkbox" id="thursday">
                            <label for="thursday" class="m-0">公休</label>
                        </div>
                        <div class="col-12 col-lg-7 d-lg-flex flex-grow-1">
                            <b-form-timepicker :readonly="signUpBusinessTime.restInfo.thursdayRest" v-model="signUpBusinessTime.timeInfo.thursday.startTime" placeholder="開始時間" locale="zh"></b-form-timepicker>
                            <b-form-timepicker :readonly="signUpBusinessTime.restInfo.thursdayRest" v-model="signUpBusinessTime.timeInfo.thursday.endTime" placeholder="結束時間" locale="zh"></b-form-timepicker>
                        </div>
                    </div>
                    <div class="row mt-3">
                        <div class="col-12 col-lg-3 m-auto">
                            <div class="d-flex">
                                <div>星期五</div>
                                <span class="text-danger small ms-2">
                                    {{  signUpBusinessTime.timeInfoCheck.fridayErrorMsg }}
                                </span>
                            </div>
                        </div>
                        <div class="col-12 col-lg-2 m-auto">
                            <input v-model="signUpBusinessTime.restInfo.fridayRest" type="checkbox" id="friday">
                            <label for="friday" class="m-0">公休</label>
                        </div>
                        <div class="col-12 col-lg-7 d-lg-flex flex-grow-1">
                            <b-form-timepicker :readonly="signUpBusinessTime.restInfo.fridayRest" v-model="signUpBusinessTime.timeInfo.friday.startTime" placeholder="開始時間" locale="zh"></b-form-timepicker>
                            <b-form-timepicker :readonly="signUpBusinessTime.restInfo.fridayRest" v-model="signUpBusinessTime.timeInfo.friday.endTime" placeholder="結束時間" locale="zh"></b-form-timepicker>
                        </div>
                    </div>
                    <div class="row mt-3">
                        <div class="col-12 col-lg-3 m-auto">
                            <div class="d-flex">
                                <div>星期六</div>
                                <span class="text-danger small ms-2">
                                    {{  signUpBusinessTime.timeInfoCheck.saturdayErrorMsg }}
                                </span>
                            </div>
                        </div>
                        <div class="col-12 col-lg-2 m-auto">
                            <input v-model="signUpBusinessTime.restInfo.saturdayRest" type="checkbox" id="saturday">
                            <label for="saturday" class="m-0">公休</label>
                        </div>
                        <div class="col-12 col-lg-7 d-lg-flex flex-grow-1">
                            <b-form-timepicker :readonly="signUpBusinessTime.restInfo.saturdayRest" v-model="signUpBusinessTime.timeInfo.saturday.startTime" placeholder="開始時間" locale="zh"></b-form-timepicker>
                            <b-form-timepicker :readonly="signUpBusinessTime.restInfo.saturdayRest" v-model="signUpBusinessTime.timeInfo.saturday.endTime" placeholder="結束時間" locale="zh"></b-form-timepicker>
                        </div>
                    </div>
                    <div class="row mt-3">
                        <div class="col-12 col-lg-3 m-auto">
                            <div class="d-flex">
                                <div>星期日</div>
                                <span class="text-danger small ms-2">
                                    {{  signUpBusinessTime.timeInfoCheck.sundayErrorMsg }}
                                </span>
                            </div>
                        </div>
                        <div class="col-12 col-lg-2 m-auto">
                            <input v-model="signUpBusinessTime.restInfo.sundayRest" type="checkbox" id="sunday">
                            <label for="sunday" class="m-0">公休</label>
                        </div>
                        <div class="col-12 col-lg-7 d-lg-flex flex-grow-1">
                            <b-form-timepicker :readonly="signUpBusinessTime.restInfo.sundayRest" v-model="signUpBusinessTime.timeInfo.sunday.startTime" placeholder="開始時間" locale="zh"></b-form-timepicker>
                            <b-form-timepicker :readonly="signUpBusinessTime.restInfo.sundayRest" v-model="signUpBusinessTime.timeInfo.sunday.endTime" placeholder="結束時間" locale="zh"></b-form-timepicker>
                        </div>
                    </div>
                </div>
            </b-tab>
            <!-- 餐廳類別設定 -->
            <b-tab title="商品類別設定" title-item-class="none-click">
                <div class="row">
                    <div class="col-12 d-flex justify-content-center py-2">
                        <label class="w-25 text-center m-0 d-block">
                            類別1：
                            <span class="text-danger small ms-2">
                                {{ signUpCategory.categoryInfoCheck.firstErrorMsg }}
                            </span>
                        </label>

                        <input v-model="signUpCategory.categoryInfo.first" type="text" name="name" value="" class="form-control w-50" />
                    </div>
                    <div class="col-12 d-flex justify-content-center py-2">
                        <label class="w-25 text-center m-0 d-block">
                            類別2：
                            <span class="text-danger small ms-2">
                                {{ signUpCategory.categoryInfoCheck.secondErrorMsg }}
                            </span>
                        </label>

                        <input v-model="signUpCategory.categoryInfo.second" type="text" name="name" value="" class="form-control w-50" />
                    </div>
                    <div class="col-12 d-flex justify-content-center py-2">
                        <label class="w-25 text-center m-0 d-block">
                            類別3：
                            <span class="text-danger small ms-2">
                                {{ signUpCategory.categoryInfoCheck.thirdErrorMsg }}
                            </span>
                        </label>
                        <input v-model="signUpCategory.categoryInfo.third" type="text" name="name" value="" class="form-control w-50" />
                    </div>
                    <div class="col-12 d-flex justify-content-center py-2">
                        <label class="w-25 text-center m-0 d-block">
                            類別4：
                            <span class="text-danger small ms-2">
                                {{ signUpCategory.categoryInfoCheck.forthErrorMsg }}
                            </span>
                        </label>
                        <input v-model="signUpCategory.categoryInfo.forth" type="text" name="name" value="" class="form-control w-50" />
                    </div>
                </div>
            </b-tab>
        </b-tabs>
    </b-card>
    <!-- Control buttons-->
    <div class="d-flex justify-content-between mt-3 pb-5 mb-5">
        <b-button v-on:click="tabIndex--">上一步</b-button>
        <b-button v-if="tabIndex &lt 2" v-on:click="tabIndex++" :disabled="!nextable">下一步</b-button>
        <b-button v-if="tabIndex == 2" v-on:click="creatStore" :disabled="!nextable" variant="success">上架餐廳</b-button>
    </div>


</div>


@section topCss{
    <style>
        #imgShow,
        #imgProShow {
            width: 100%;
            height: 300px;
            border: 1px solid #ccc;
            border-radius: 10px;
            text-align: center;
        }

        #imgShow i,
        #imgProShow i {
            font-size: 30px;
            color: #ccc;
            text-align: center;
            line-height: 300px;
        }
        #imgShow img,
        #imgProShow img{
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
    </style>
}

@section endJs{
    <script src="~/js/Controller/Store/addStore.js"></script>
}
