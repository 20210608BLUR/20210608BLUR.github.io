    <div id="storeList" v-cloak>
        <div class="row">
            @*<div class="col-12">
                <template>
                    <b-breadcrumb :items="breadCrumbItems"></b-breadcrumb>
                </template>
            </div>*@
            <div class="col-12">
                <b-tabs content-class="pt-2 pb-2 px-2" fill v-model="tabIndex">
                    <b-tab active>
                        <template #title>
                            <b-icon icon="arrow-up-square-fill" aria-hidden="true"></b-icon>
                            <strong>上架餐廳</strong>
                        </template>
                        <b-row>
                            <b-col lg="9" class="my-1">
                                <b-button-group>
                                    <b-button variant="success" v-on:click="StoreCreate">
                                        <b-icon icon="plus-square" aria-hidden="true"></b-icon>
                                        新增餐廳
                                    </b-button>
                                </b-button-group>
                            </b-col>
                            <b-col lg="3" class="my-1">
                                <b-form-group label="關鍵字搜尋" label-for="filter-input" label-cols-sm="4"
                                              label-align-sm="right" label-size="sm" class="mb-0">
                                    <b-input-group size="sm">
                                        <b-form-input id="filter-input" v-model="filter" type="search"
                                                      placeholder="請輸入關鍵字">
                                        </b-form-input>
                                        <b-input-group-append>
                                            <b-button :disabled="!filter" v-on:click="filter = ''">
                                                Clear
                                            </b-button>
                                        </b-input-group-append>
                                    </b-input-group>
                                </b-form-group>
                            </b-col>
                        </b-row>
                        <!-- Main table element -->
                        <b-table v-if="tabIndex==0" :items="items" :fields="fields"
                                 :current-page="currentPage" :per-page="perPage" :filter="filter"
                                 :filter-included-fields="filterOn" :sort-by.sync="sortBy"
                                 :sort-desc.sync="sortDesc" responsive="sm" :sort-direction="sortDirection"
                                 stacked="md" show-empty small :busy="isOnSaleBusy.PageBusy"
                                 v-on:filtered="onFiltered">
                            <template #table-busy>
                                <div class="text-center text-danger my-2">
                                    <b-spinner class="align-middle"></b-spinner>
                                    <strong>Loading...</strong>
                                </div>
                            </template>

                            <template #cell(productImg)="row">
                                <b-img-lazy v-bind="simplifyproductimgProps" class="pdlistimg"
                                            :src="row.item.productImg" thumbnail></b-img-lazy>
                            </template>

                            <template #cell(actions)="row">
                                <b-button variant="info" size="sm"
                                          v-on:click="info(row.item, row.index, $event.target)" class="mr-1">
                                    餐廳明細
                                </b-button>
                                <b-button size="sm"
                                          v-on:click="ShowUpdateSaleConfirm(row.item.productId,SalesConfirmBoxProps.nonSale)"
                                          class="mr-1">
                                    下架餐廳
                                </b-button>
                            </template>
                        </b-table>
                        <b-row>
                            <b-col lg="6" class="ml-auto">
                                <b-pagination v-model="currentPage" :total-rows="totalRows"
                                              :per-page="perPage" align="fill" size="md" class="my-0">
                                </b-pagination>
                            </b-col>
                            <b-col lg="3" class="my-1">
                                <b-form-group label="每頁顯示筆數" label-for="per-page-select"
                                              label-cols-sm="3" label-cols-lg="9" content-cols="3"
                                              label-align-sm="right" label-size="sm" class="mb-0">
                                    <b-form-select id="per-page-select" v-model="perPage"
                                                   :options="pageOptions" size="sm"></b-form-select>
                                </b-form-group>
                            </b-col>
                        </b-row>

                        <!-- Info modal -->
                        <b-modal :id="productDetailsModel.id" :title="productDetailsModel.title" header-bg-variant="info"
                                 header-text-variant="light" hide-footer size="lg"
                                 v-on:hidden="resetProductDetailsModel" scrollable>
                            <!-- <template #default> -->
                            <div v-if="isOnSaleBusy.DetailsBusy"
                                 class="busy text-center text-danger my-2">
                                <b-spinner class="align-middle"></b-spinner>
                                <strong>Loading...</strong>
                            </div>
                            <!-- </template> -->
                            <div class="details-body" v-if="!isOnSaleBusy.DetailsBusy">
                                <div class="row">
                                    <div v-for="item in productDetailsModel.fields"
                                         :class="['field','mb-3',((item.key==='imagePath' || item.key==='description')?'col-12':'col-6')]">
                                        <h2 class="title">{{item.title}}</h2>
                                        <div v-if="item.key==='imagePath'">
                                            <b-img-lazy v-bind="productDetailsimgProps"
                                                        :src="item.value"
                                                        class="pddetailsimg"
                                                        thumbnail center>
                                            </b-img-lazy>
                                        </div>
                                        <div class="content" v-else-if="item.key==='description'" v-html="item.value"></div>
                                        <p v-else class="content">{{item.value}}</p>
                                    </div>
                                </div>
                            </div>
                        </b-modal>
                    </b-tab>
                    <b-tab>
                        <template #title>
                            <b-icon icon="arrow-down-square-fill" aria-hidden="true"></b-icon>
                            <strong>已下架商品</strong>
                        </template>
                        <b-row>
                            <b-col lg="9" class="my-1">
                            </b-col>
                            <b-col lg="3" class="my-1">
                                <b-form-group label="關鍵字搜尋" label-for="filter-input" label-cols-sm="4"
                                              label-align-sm="right" label-size="sm" class="mb-0">
                                    <b-input-group size="sm">
                                        <b-form-input id="filter-input" v-model="filter" type="search"
                                                      placeholder="請輸入關鍵字"></b-form-input>
                                        <b-input-group-append>
                                            <b-button :disabled="!filter" v-on:click="filter = ''">
                                                Clear
                                            </b-button>
                                        </b-input-group-append>
                                    </b-input-group>
                                </b-form-group>

                            </b-col>
                        </b-row>
                        <!-- Main table element -->
                        <b-table v-if="tabIndex==1" :items="items" :fields="fields"
                                 :current-page="currentPage" :per-page="perPage" :filter="filter"
                                 :filter-included-fields="filterOn" :sort-by.sync="sortBy"
                                 :sort-desc.sync="sortDesc" responsive="sm" :sort-direction="sortDirection"
                                 stacked="md" show-empty small :busy="isNonSaleBusy.PageBusy"
                                 v-on:filtered="onFiltered">
                            <template #table-busy>
                                <div class="text-center text-danger my-2">
                                    <b-spinner class="align-middle"></b-spinner>
                                    <strong>Loading...</strong>
                                </div>
                            </template>

                            <template #cell(productImg)="row">
                                <b-img-lazy v-bind="simplifyproductimgProps" class="pdlistimg"
                                            :src="row.item.productImg" thumbnail></b-img-lazy>
                            </template>

                            <template #cell(actions)="row">
                                <b-button variant="primary" size="sm" v-on:click="ProductModify(row.item.productId)" class="mr-1">
                                    商品編輯
                                </b-button>
                                <b-button variant="success" size="sm"
                                          v-on:click="ShowUpdateSaleConfirm(row.item.productId,SalesConfirmBoxProps.onSale)"
                                          class="mr-1">
                                    商品上架
                                </b-button>
                            </template>
                        </b-table>
                        <b-row class="">
                            <b-col lg="6" class="ml-auto">
                                <b-pagination v-model="currentPage" :total-rows="totalRows"
                                              :per-page="perPage" align="fill" size="md" class="my-0">
                                </b-pagination>
                            </b-col>
                            <b-col lg="3" class="my-1">
                                <b-form-group label="每頁顯示筆數" label-for="per-page-select"
                                              label-cols-sm="3" label-cols-lg="9" content-cols="3"
                                              label-align-sm="right" label-size="sm" class="mb-0">
                                    <b-form-select id="per-page-select" v-model="perPage"
                                                   :options="pageOptions" size="sm"></b-form-select>
                                </b-form-group>
                            </b-col>
                        </b-row>
                    </b-tab>
                </b-tabs>
            </div>
        </div>
    </div>

@section endJs{ 
    <script src="~/js/Controller/Store/index.js"></script>
}